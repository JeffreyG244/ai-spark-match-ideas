import{j as e}from"./vendor-ui-BOBT-NyQ.js";import{r as p}from"./vendor-LxWyOK1e.js";import{u as T,s as b,S as k,b as a,c as l,d as t,H as y,e as i,j as o,f as d}from"./index-DNN11rcK.js";import{T as P,a as A,b as h,c as j}from"./tabs-BYN9Ib7m.js";import{P as r}from"./progress-C7g_ahGs.js";import{L as E}from"./logo-CkB_3k13.js";import{M as w}from"./message-circle-BsyyCNNb.js";import{E as G}from"./eye-5W4z1xL_.js";import{S as R}from"./star-DzkWTCKw.js";import{C as L}from"./chart-column-DkcbVh0Y.js";import{A as D}from"./activity-BhsYz68Z.js";import{U as q}from"./users-BGJJ1iWw.js";import{T as H}from"./trending-up-ByDPq67c.js";import{T as U}from"./target-rxQZ8I7d.js";import"./vendor-supabase-DciMRLNE.js";import"./vendor-query-BXVzPZ54.js";import"./vendor-router-hC09K-xx.js";const le=()=>{const{user:m}=T(),[s,u]=p.useState(null),[_,S]=p.useState(!0);p.useEffect(()=>{m&&M()},[m]);const M=async()=>{if(m)try{const{data:c,error:x}=await b.from("user_analytics").select("*").eq("user_id",m.id).single();if(x&&x.code!=="PGRST116")throw x;if(c){const n={...c,total_matches:c.matches_made||0,total_conversations:0,photos_liked:0,success_rate:0};u(n)}else{const{data:n,error:v}=await b.from("user_analytics").insert({user_id:m.id,profile_views:0,messages_sent:0,messages_received:0,meetings_scheduled:0,meetings_completed:0,matches_made:0,response_rate:85,trending_score:0,market_rank_percentile:50,demand_level:"moderate",conversation_quality_avg:0,meeting_success_rate:0,average_response_time:30}).select().single();if(v)throw v;const C={...n,total_matches:n.matches_made||0,total_conversations:0,photos_liked:0,success_rate:0};u(C)}}catch{}finally{S(!1)}},g=()=>85,f=()=>{if(!s)return 0;const c=Math.min(s.profile_views/10,100);return Math.round(c)},N=()=>{if(!s)return 0;const c=s.messages_sent,x=s.messages_received,n=c+x;return Math.min(Math.round(n/5),100)};return _?e.jsx("div",{className:"min-h-screen bg-love-background py-8",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsx("div",{className:"text-center text-love-text",children:"Loading your analytics..."})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col",children:[e.jsx("header",{className:"bg-black/20 backdrop-blur-xl border-b border-purple-500/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(E,{size:"md",showText:!0})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Analytics"}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Your executive dating insights"})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2 bg-blue-500/20 backdrop-blur-xl border border-blue-500/30 rounded-xl px-4 py-2",children:[e.jsx(k,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-blue-400 text-sm font-medium",children:"Executive"})]})})]})})}),e.jsx("main",{className:"flex-1 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs(P,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(A,{className:"grid w-full grid-cols-4",children:[e.jsx(h,{value:"overview",children:"Overview"}),e.jsx(h,{value:"performance",children:"Performance"}),e.jsx(h,{value:"insights",children:"Insights"}),e.jsx(h,{value:"goals",children:"Goals"})]}),e.jsxs(j,{value:"overview",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(a,{className:"border-blue-200 bg-blue-50",children:[e.jsx(l,{className:"pb-2",children:e.jsxs(t,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(y,{className:"h-5 w-5"}),"Matches"]})}),e.jsxs(i,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900",children:s?.total_matches||0}),e.jsx("p",{className:"text-sm text-blue-600",children:"Total matches"})]})]}),e.jsxs(a,{className:"border-green-200 bg-green-50",children:[e.jsx(l,{className:"pb-2",children:e.jsxs(t,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(w,{className:"h-5 w-5"}),"Conversations"]})}),e.jsxs(i,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900",children:s?.total_conversations||0}),e.jsx("p",{className:"text-sm text-green-600",children:"Active chats"})]})]}),e.jsxs(a,{className:"border-purple-200 bg-purple-50",children:[e.jsx(l,{className:"pb-2",children:e.jsxs(t,{className:"flex items-center gap-2 text-purple-800",children:[e.jsx(G,{className:"h-5 w-5"}),"Profile Views"]})}),e.jsxs(i,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900",children:s?.profile_views||0}),e.jsx("p",{className:"text-sm text-purple-600",children:"This month"})]})]}),e.jsxs(a,{className:"border-orange-200 bg-orange-50",children:[e.jsx(l,{className:"pb-2",children:e.jsxs(t,{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(R,{className:"h-5 w-5"}),"Success Rate"]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-3xl font-bold text-orange-900",children:[s?.success_rate||0,"%"]}),e.jsx("p",{className:"text-sm text-orange-600",children:"Match to chat"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsxs(l,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Profile Scores"]}),e.jsx(o,{children:"How well your profile is performing"})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Profile Completion"}),e.jsxs(d,{variant:"secondary",children:[g(),"%"]})]}),e.jsx(r,{value:g(),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Popularity Score"}),e.jsxs(d,{variant:"secondary",children:[f(),"%"]})]}),e.jsx(r,{value:f(),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Engagement Score"}),e.jsxs(d,{variant:"secondary",children:[N(),"%"]})]}),e.jsx(r,{value:N(),className:"h-2"})]})]})]}),e.jsxs(a,{children:[e.jsxs(l,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Recent Activity"]}),e.jsx(o,{children:"Your activity over the past week"})]}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Messages Sent"})]}),e.jsx(d,{variant:"outline",children:s?.messages_sent||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-sm",children:"Photos Liked"})]}),e.jsx(d,{variant:"outline",children:s?.photos_liked||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"New Matches"})]}),e.jsx(d,{variant:"outline",children:s?.total_matches||0})]})]})})]})]})]}),e.jsx(j,{value:"performance",children:e.jsxs(a,{children:[e.jsxs(l,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Performance Metrics"]}),e.jsx(o,{children:"Detailed breakdown of your dating app performance"})]}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Messaging Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Messages Sent:"}),e.jsx("span",{className:"font-semibold",children:s?.messages_sent||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Messages Received:"}),e.jsx("span",{className:"font-semibold",children:s?.messages_received||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Response Rate:"}),e.jsxs("span",{className:"font-semibold",children:[s?.messages_sent?Math.round(s.messages_received/s.messages_sent*100):0,"%"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Match Quality"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Matches:"}),e.jsx("span",{className:"font-semibold",children:s?.total_matches||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Conversations Started:"}),e.jsx("span",{className:"font-semibold",children:s?.total_conversations||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Conversion Rate:"}),e.jsxs("span",{className:"font-semibold",children:[s?.total_matches?Math.round(s.total_conversations/s.total_matches*100):0,"%"]})]})]})]})]})})]})}),e.jsx(j,{value:"insights",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(a,{className:"border-green-200 bg-green-50",children:[e.jsx(l,{children:e.jsx(t,{className:"text-green-800",children:"ðŸ’¡ Profile Tips"})}),e.jsx(i,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Add more photos to increase profile views by 30%"}),e.jsx("li",{children:"â€¢ Complete your bio to improve match quality"}),e.jsx("li",{children:"â€¢ Answer compatibility questions for better matches"}),e.jsx("li",{children:"â€¢ Update your photos regularly for more engagement"})]})})]}),e.jsxs(a,{className:"border-blue-200 bg-blue-50",children:[e.jsx(l,{children:e.jsx(t,{className:"text-blue-800",children:"ðŸ“ˆ Growth Opportunities"})}),e.jsx(i,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"â€¢ Your response rate is above average! Keep it up"}),e.jsx("li",{children:"â€¢ Try logging in during peak hours (7-9 PM)"}),e.jsx("li",{children:"â€¢ Consider upgrading for more visibility"}),e.jsx("li",{children:"â€¢ Engage with daily matches for better results"})]})})]})]})}),e.jsx(j,{value:"goals",children:e.jsxs(a,{children:[e.jsxs(l,{children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Dating Goals"]}),e.jsx(o,{children:"Set and track your dating objectives"})]}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Weekly Goals"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:"Send 10 messages"}),e.jsx("span",{className:"text-sm font-medium",children:"7/10"})]}),e.jsx(r,{value:70,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:"Get 5 new matches"}),e.jsx("span",{className:"text-sm font-medium",children:"3/5"})]}),e.jsx(r,{value:60,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:"Start 2 conversations"}),e.jsx("span",{className:"text-sm font-medium",children:"2/2"})]}),e.jsx(r,{value:100,className:"h-2"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Goals"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:"Go on 2 dates"}),e.jsx("span",{className:"text-sm font-medium",children:"0/2"})]}),e.jsx(r,{value:0,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:"Get 20 profile views"}),e.jsx("span",{className:"text-sm font-medium",children:"15/20"})]}),e.jsx(r,{value:75,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:"Improve success rate to 25%"}),e.jsx("span",{className:"text-sm font-medium",children:"20%/25%"})]}),e.jsx(r,{value:80,className:"h-2"})]})]})]})]})})]})})]})})})]})};export{le as default};
