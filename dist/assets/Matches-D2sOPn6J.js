import{j as e}from"./vendor-ui-BOBT-NyQ.js";import{r as o}from"./vendor-LxWyOK1e.js";import{u as P,L as C}from"./vendor-router-hC09K-xx.js";import{u as D,t as c,S as M,a as B,H as q,T as F,X as Q}from"./index-DNN11rcK.js";import{u as O,a as z}from"./useMatches-WS7vx5vg.js";import{L as S}from"./logo-CkB_3k13.js";import{A as R}from"./arrow-left-dGaAc19p.js";import{F as U}from"./filter-bqAOcWW-.js";import{B as Y}from"./brain-8NWfkgQ0.js";import{B as $}from"./badge-check-CSZH82If.js";import{T as G}from"./trash-2-CP18VoS0.js";import{T as H}from"./trophy-CRV4qpSf.js";import{M as I}from"./message-circle-BsyyCNNb.js";import{B as K}from"./briefcase-CMJkbIGc.js";import{C as V}from"./check-KER7PWwg.js";import"./vendor-supabase-DciMRLNE.js";import"./vendor-query-BXVzPZ54.js";const X=()=>{const{user:i}=D(),[d,f]=o.useState({}),[g,u]=o.useState(!1);return{questionAnswers:d,isSavingAnswers:g,loadCompatibilityAnswers:async()=>{if(i)try{}catch{}},saveCompatibilityAnswers:async()=>{if(!(!i||Object.keys(d).length===0)){u(!0);try{const n={user_id:i.id,answers:d,completed_at:new Date().toISOString()};if(!{error:null}.error){const x=Object.keys(d).length,l=Math.round(x/17*100);c({title:"Compatibility Answers Saved",description:`Your compatibility score: ${l}%. Answers saved successfully!`})}}catch{c({title:"Error Saving Answers",description:"An unexpected error occurred.",variant:"destructive"})}finally{u(!1)}}},handleQuestionAnswer:(n,m)=>{f(x=>({...x,[n]:m}))}}},ue=()=>{const{user:i,signOut:d}=D(),f=P(),{questionAnswers:g,loadCompatibilityAnswers:u}=X(),{loadProfile:w}=O(),{matches:r,isLoading:j,loadMatches:n,deleteMatch:m}=z(),[x,k]=o.useState(!0),[l,v]=o.useState(null),[y,A]=o.useState(null);o.useEffect(()=>{i&&(u(),w(),n())},[i]),o.useEffect(()=>{j||k(!1)},[j]);const L=s=>{const a=s.first_name||s.email?.split("@")[0]||"User",t=s.gender?.toLowerCase()||"",p=["marcus","david","alex","jordan","sam","carlos","james","john","michael","robert","william","richard","charles","joseph","thomas","christopher","daniel","paul","mark","donald","steven","matthew","anthony","joshua","kenneth","kevin","brian","george","timothy","ronald","jason","edward","jeffrey","ryan","jacob","gary","nicholas","eric","jonathan","stephen","larry","justin","scott","brandon","benjamin","samuel","gregory","alexander","patrick","frank","raymond","jack","dennis","jerry","tyler","aaron"],N=["riley","taylor","maya","aisha","sarah","jennifer","lisa","nancy","karen","betty","helen","sandra","donna","carol","ruth","sharon","michelle","laura","sarah","kimberly","deborah","dorothy","amy","angela","ashley","brenda","emma","olivia","cynthia","marie","janet","catherine","frances","christine","samantha","debra","rachel","carolyn","janet","virginia","maria","heather","diane","julie","joyce","victoria","kelly","christina","joan","evelyn","lauren","judith","megan","cheryl","andrea","anna","jean","alice"];let h=t;const b=a.toLowerCase();return p.includes(b)&&(!t||t.includes("female")||t.includes("woman"))?h="male":N.includes(b)&&(!t||t.includes("male")||t.includes("man"))&&(h="female"),{...s,first_name:a,gender:h}},T=async(s,a)=>{if(!i){c({title:"Authentication Required",description:"Please log in to delete matches",variant:"destructive"});return}A(s);try{await m(s)?(c({title:"Match Deleted",description:`Successfully removed match with ${a}`,variant:"default"}),v(null)):c({title:"Delete Failed",description:"Unable to delete match. Please try again.",variant:"destructive"})}catch{c({title:"Error",description:"An unexpected error occurred while deleting the match",variant:"destructive"})}finally{A(null)}};if(x)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("span",{className:"text-purple-300",children:"Loading your matches..."})]})});const E=r.length>0?Math.round(r.reduce((s,a)=>s+a.compatibility,0)/r.length):0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col",children:[e.jsx("header",{className:"bg-black/20 backdrop-blur-xl border-b border-purple-500/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>f("/dashboard"),className:"bg-slate-800/50 backdrop-blur-xl border border-slate-600/30 rounded-xl p-3 hover:bg-slate-700/50 transition-all",children:e.jsx(R,{className:"w-5 h-5 text-white"})}),e.jsx(S,{size:"lg",showText:!1}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Your Matches"}),e.jsx("p",{className:"text-purple-300 text-sm",children:"Executive professionals who liked you back"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-500/20 backdrop-blur-xl border border-emerald-500/30 rounded-xl px-4 py-2",children:[e.jsx(M,{className:"w-5 h-5 text-emerald-400"}),e.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"Basic"})]}),e.jsx("button",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-600/30 rounded-xl p-3 hover:bg-slate-700/50 transition-all",children:e.jsx(U,{className:"w-5 h-5 text-white"})})]})]})})}),e.jsxs("main",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 to-slate-700/60 backdrop-blur-xl border border-gray-600/30 rounded-2xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Y,{className:"h-6 w-6 text-purple-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Executive Match Statistics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:Object.keys(g).length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Questions Answered"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:r.length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Matches"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:[E,"%"]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Avg Compatibility"})]})]})]}),r.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-96 h-96 mx-auto mb-8 flex items-center justify-center",children:e.jsx(S,{size:"lg",showText:!0})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"No Executive Matches Yet"}),e.jsx("p",{className:"text-gray-400 mb-8",children:"Keep discovering to find professionals who appreciate your leadership qualities!"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(C,{to:"/discover",children:e.jsx("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:scale-105 transition-all",children:"Start Discovering"})}),e.jsx(C,{to:"/daily-matches",children:e.jsxs("button",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-600/30 text-white px-8 py-3 rounded-xl font-semibold hover:bg-slate-700/50 transition-all",children:[e.jsx(B,{className:"h-4 w-4 mr-2 inline"}),"View Daily Matches"]})})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(s=>{const a=s.match_profile;if(!a)return null;const t=L(a),p=t.first_name,N=t.age?`, ${t.age}`:"",h=t.photos&&t.photos.length>0?t.photos[0]:"https://images.unsplash.com/photo-1494790108755-2616c2b10db8?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=60";return e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 to-slate-700/60 backdrop-blur-xl border border-gray-600/30 rounded-2xl overflow-hidden hover:scale-105 transition-all",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:p,className:"w-full h-48 object-cover",onError:b=>{const _=b.currentTarget;_.src="https://images.unsplash.com/photo-1494790108755-2616c2b10db8?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=60"}}),e.jsx("div",{className:"absolute top-3 right-3 bg-green-500/90 backdrop-blur-sm rounded-full p-2",children:e.jsx($,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full px-3 py-1",children:e.jsxs("span",{className:"text-white font-bold text-sm",children:[s.compatibility,"% Match"]})}),e.jsx("button",{onClick:()=>v(s.id),className:"absolute top-3 right-12 bg-red-500/90 backdrop-blur-sm rounded-full p-2 hover:bg-red-600/90 transition-all",title:"Delete Match",children:e.jsx(G,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"text-xl font-bold text-white",children:[p,N]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-green-500/20 border border-green-500/30 rounded-full px-2 py-1",children:[e.jsx(q,{className:"h-3 w-3 text-green-400 fill-current"}),e.jsx("span",{className:"text-green-400 text-xs font-medium",children:"Match!"})]})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-4 line-clamp-2",children:t.bio||"Executive professional seeking meaningful connections"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-4",children:[e.jsxs("span",{children:["Matched ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(H,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400",children:"Executive"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 rounded-lg font-semibold hover:scale-105 transition-all",children:[e.jsx(I,{className:"w-4 h-4 mr-1 inline"}),"Message"]}),e.jsxs("button",{className:"flex-1 bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-2 rounded-lg font-semibold hover:scale-105 transition-all",children:[e.jsx(K,{className:"w-4 h-4 mr-1 inline"}),"Connect"]})]})]})]},s.id)})})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800/95 backdrop-blur-xl border border-red-500/30 rounded-2xl p-6 w-96 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"bg-red-500/20 rounded-full p-2",children:e.jsx(F,{className:"w-6 h-6 text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Delete Match"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to delete this match? This action cannot be undone and will permanently remove the connection."}),e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-red-400 text-sm font-medium",children:"Security Notice"})]}),e.jsx("p",{className:"text-red-300 text-xs mt-1",children:"This will remove all conversation history and cannot be recovered."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>v(null),disabled:y===l,className:"flex-1 bg-slate-700/50 hover:bg-slate-600/50 text-white py-2 px-4 rounded-lg transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]}),e.jsx("button",{onClick:()=>{const s=r.find(a=>a.id===l);if(s){const a=s.match_profile?.first_name||"User";T(l,a)}},disabled:y===l,className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white py-2 px-4 rounded-lg transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:y===l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Deleting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})})]})]})})]})};export{ue as default};
