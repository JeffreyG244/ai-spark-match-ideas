import{j as e}from"./vendor-ui-BOBT-NyQ.js";import{r as i}from"./vendor-LxWyOK1e.js";import{u as I,g as L,S as q,b as a,e as t,m as d,c as r,f as x,B as o,T as j,d as l,j as E}from"./index-DNN11rcK.js";import{T as F,a as z,b as u,c as g}from"./tabs-BYN9Ib7m.js";import{S as B,a as D,b as V,c as Q,d as c}from"./select-BXmdpuiT.js";import{C as p}from"./circle-x-COkNUzL9.js";import{E as w}from"./eye-5W4z1xL_.js";import{C as H}from"./clock-RrNXdaDL.js";import"./vendor-supabase-DciMRLNE.js";import"./vendor-query-BXVzPZ54.js";import"./vendor-router-hC09K-xx.js";import"./index-DSOaBYUE.js";import"./chevron-down-B19HVAGS.js";import"./check-KER7PWwg.js";import"./chevron-up-C2mnd6G7.js";const re=()=>{const{user:C}=I(),{toast:N}=L(),[m,k]=i.useState([]),[S,A]=i.useState(!0),[f,T]=i.useState("pending");i.useEffect(()=>{v()},[f]);const v=async()=>{try{k([])}catch{}finally{A(!1)}},h=async(s,n,b)=>{if(C)try{N({title:"Action completed",description:`Content has been ${n}`}),v()}catch{N({title:"Error",description:"Failed to update moderation status",variant:"destructive"})}},_=s=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"flagged":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},M=s=>{switch(s){case"pending":return e.jsx(H,{className:"h-4 w-4"});case"approved":return e.jsx(d,{className:"h-4 w-4"});case"rejected":return e.jsx(p,{className:"h-4 w-4"});case"flagged":return e.jsx(j,{className:"h-4 w-4"});default:return e.jsx(w,{className:"h-4 w-4"})}},R=s=>s>=.8?{level:"High",color:"text-red-600"}:s>=.5?{level:"Medium",color:"text-yellow-600"}:{level:"Low",color:"text-green-600"};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Content Moderation"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Review and moderate user-generated content"})]}),e.jsxs(F,{defaultValue:"queue",className:"space-y-6",children:[e.jsxs(z,{className:"grid w-full grid-cols-3 max-w-md mx-auto",children:[e.jsx(u,{value:"queue",children:"Moderation Queue"}),e.jsx(u,{value:"stats",children:"Statistics"}),e.jsx(u,{value:"settings",children:"Settings"})]}),e.jsx(g,{value:"queue",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex gap-4",children:e.jsxs(B,{value:f,onValueChange:T,children:[e.jsx(D,{className:"w-40",children:e.jsx(V,{})}),e.jsxs(Q,{children:[e.jsx(c,{value:"all",children:"All Items"}),e.jsx(c,{value:"pending",children:"Pending"}),e.jsx(c,{value:"flagged",children:"Flagged"}),e.jsx(c,{value:"approved",children:"Approved"}),e.jsx(c,{value:"rejected",children:"Rejected"})]})]})}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(q,{className:"h-4 w-4"}),m.length," items"]})]}),S?e.jsx("div",{className:"text-center py-8",children:"Loading moderation queue..."}):m.length===0?e.jsx(a,{className:"text-center py-12",children:e.jsxs(t,{children:[e.jsx(d,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"All caught up!"}),e.jsx("p",{className:"text-gray-600",children:"No items in the moderation queue"})]})}):e.jsx("div",{className:"space-y-4",children:m.map(s=>{const n=R(s.ai_score||0);return e.jsxs(a,{className:"border-l-4 border-l-orange-400",children:[e.jsx(r,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{variant:"outline",className:"capitalize",children:s.content_type}),e.jsxs(x,{className:_(s.status),children:[M(s.status),e.jsx("span",{className:"ml-1 capitalize",children:s.status})]}),e.jsxs(x,{variant:"outline",className:n.color,children:["AI Risk: ",n.level]})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]})}),e.jsxs(t,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Content:"}),s.content_text&&e.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded border",children:s.content_text}),s.content_url&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Media URL:"}),e.jsx("a",{href:s.content_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all",children:s.content_url})]})]}),s.ai_flags&&s.ai_flags.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"AI Flags:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.ai_flags.map((b,y)=>e.jsx(x,{variant:"destructive",className:"text-xs",children:b},y))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"AI Confidence Score:"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${(s.ai_score||0)*100}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round((s.ai_score||0)*100),"%"]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>h(s.id,"approved"),className:"text-green-600 border-green-600 hover:bg-green-50",children:[e.jsx(d,{className:"h-4 w-4 mr-1"}),"Approve"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>h(s.id,"rejected"),className:"text-red-600 border-red-600 hover:bg-red-50",children:[e.jsx(p,{className:"h-4 w-4 mr-1"}),"Reject"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>h(s.id,"flagged"),className:"text-orange-600 border-orange-600 hover:bg-orange-50",children:[e.jsx(j,{className:"h-4 w-4 mr-1"}),"Flag for Review"]})]})]})]},s.id)})})]})}),e.jsx(g,{value:"stats",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(a,{className:"border-blue-200 bg-blue-50",children:[e.jsx(r,{className:"pb-2",children:e.jsxs(l,{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(w,{className:"h-5 w-5"}),"Total Reviewed"]})}),e.jsxs(t,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900",children:"1,247"}),e.jsx("p",{className:"text-sm text-blue-600",children:"This month"})]})]}),e.jsxs(a,{className:"border-green-200 bg-green-50",children:[e.jsx(r,{className:"pb-2",children:e.jsxs(l,{className:"flex items-center gap-2 text-green-800",children:[e.jsx(d,{className:"h-5 w-5"}),"Approved"]})}),e.jsxs(t,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900",children:"1,156"}),e.jsx("p",{className:"text-sm text-green-600",children:"92.7% approval rate"})]})]}),e.jsxs(a,{className:"border-red-200 bg-red-50",children:[e.jsx(r,{className:"pb-2",children:e.jsxs(l,{className:"flex items-center gap-2 text-red-800",children:[e.jsx(p,{className:"h-5 w-5"}),"Rejected"]})}),e.jsxs(t,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-900",children:"67"}),e.jsx("p",{className:"text-sm text-red-600",children:"5.4% rejection rate"})]})]}),e.jsxs(a,{className:"border-orange-200 bg-orange-50",children:[e.jsx(r,{className:"pb-2",children:e.jsxs(l,{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(j,{className:"h-5 w-5"}),"Flagged"]})}),e.jsxs(t,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-900",children:"24"}),e.jsx("p",{className:"text-sm text-orange-600",children:"1.9% flagged rate"})]})]})]})}),e.jsx(g,{value:"settings",children:e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsx(l,{children:"Moderation Settings"}),e.jsx(E,{children:"Configure AI moderation thresholds and rules"})]}),e.jsxs(t,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"AI Thresholds"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Auto-reject threshold"}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Content above this score is automatically rejected"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",defaultValue:"0.9",className:"w-full"}),e.jsx("div",{className:"text-xs text-gray-500",children:"90%"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Manual review threshold"}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Content above this score requires manual review"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",defaultValue:"0.5",className:"w-full"}),e.jsx("div",{className:"text-xs text-gray-500",children:"50%"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Content Types"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Profile photos"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Bio text"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Messages"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Media uploads"}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]})]})]})]}),e.jsx(o,{className:"w-full",children:"Save Settings"})]})]})})]})]})})};export{re as default};
