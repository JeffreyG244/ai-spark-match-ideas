import{r as e}from"./vendor-LxWyOK1e.js";import{u as f,s as p}from"./index-DNN11rcK.js";const v=h=>{const{user:o}=f(),[c,n]=e.useState("basic"),[u,r]=e.useState(!0),[l,s]=e.useState(null),t=o?.id;e.useEffect(()=>{if(!t){r(!1);return}a()},[t]);const a=async()=>{try{r(!0),s(null);const{data:i,error:m}=await p.from("users").select("membership_verification").eq("id",t).single();if(m){s("Failed to fetch membership level");return}n(i?.membership_verification||"basic")}catch{s("An unexpected error occurred")}finally{r(!1)}};return{membershipLevel:c,loading:u,error:l,refetch:a}};export{v as u};
